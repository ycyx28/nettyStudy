<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>登录页面</title>
</head>
<script src='js/jquery-2.0.3.min.js'></script>
<script type="text/javascript">
	$(document).ready(function() {
		$("#login").click(function() {
			$.ajax({
				type:"post",
				data:{
					'userName':$("#userName").val(),
					'passWord':$("#passWord").val()
					},
				url:"/nettyStudy/netty/login",
				async:true,
				success:function(data){
					if(data.code == '200'){
						window.parent.location.href = "/nettyStudy/webSocket.html?sessionId=" + data.sessionId;
					}else{
						alert(data.msg);
					}
				},
				error:function(){
					alert("服务器繁忙");
				}
			});
		});
	});
	
	function getUrlParam(name) {
		var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); // 构造一个含有目标参数的正则表达式对象
		var r = window.location.search.substr(1).match(reg); // 匹配目标参数
		if (r != null)
			return unescape(r[2]);
		return null; // 返回参数值
	}
</script>
<body>
	<div style="width: 100%; height: 100%">
		<div style="width: 50%; margin: 5% auto;">

			<div style="text-align: center;">
				<h1>登录</h1>
			</div>
			<div style="width: 100%">
				<input type="text" name="userName" id="userName" placeholder="用户名"
					value=""
					style="width: 100%; height: 30px; border-radius: 5px; border: 1px solid #3c3c3c">
			</div>
			<div style="margin-top: 20px;">
				<input type="password" name="passWord" id="passWord"
					placeholder="密码" value=""
					style="width: 100%; height: 30px; border-radius: 5px; border: 1px solid #3c3c3c">
			</div>
			<div id="login"
				style="weight: 30%; height: 30px; line-height: 30px; color: #fff; background-color: #3cb9b5; text-align: center; border-radius: 5px; margin-top: 20px">
				登录</div>
		</div>
	</div>
</body>
</html>